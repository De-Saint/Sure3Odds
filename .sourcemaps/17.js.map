{"version":3,"sources":["../../src/pages/subscription-ios/subscription-ios.module.ts","../../src/interfaces/NewUser.ts","../../src/pages/subscription-ios/subscription-ios.ts"],"names":[],"mappings":"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","file":"17.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SubscriptionIosPage } from './subscription-ios';\n\n@NgModule({\n  declarations: [\n    SubscriptionIosPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SubscriptionIosPage),\n  ],\n})\nexport class SubscriptionIosPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/subscription-ios/subscription-ios.module.ts","export class NewUsers {\n  constructor(\n    public id: string,\n    public email: string,\n    public firstname: string,\n    public lastname: string,\n    public referencecode: any,\n    public password: string,\n    public phone: string,\n    public plantype: { id },\n    public platform: string,\n    public usertypes:{id, name},\n    public status:{id, name}\n  ) { }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interfaces/NewUser.ts","import { AuthenicationProvider } from './../../providers/authenication/authenication';\nimport { NewUsers } from './../../interfaces/NewUser';\nimport { Component, ChangeDetectorRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform } from 'ionic-angular';\nimport { InAppPurchase2, IAPProduct } from '@ionic-native/in-app-purchase-2';\n\nconst VVIP_KEY = 'surevvip'; //cons\nconst VIP_KEY = 'surevip'; //cons\n\n//gems == consum\n\n\n@IonicPage()\n@Component({\n  selector: 'page-subscription-ios',\n  templateUrl: 'subscription-ios.html',\n})\nexport class SubscriptionIosPage {\n  sub_option: string;\n  newuser: NewUsers = new NewUsers(\"\", \"\", \"\", \"\", \"\", \"\", \"\", { id: \"\" }, \"\", { id: \"\", name: \"\" }, { id: \"\", name: \"\" });\n\n  products: IAPProduct [];\n  constructor(public navCtrl: NavController,\n    private platform: Platform,\n   public navParams: NavParams,\n    private store: InAppPurchase2,\n    private auth: AuthenicationProvider,\n    private ref: ChangeDetectorRef) {\n    this.newuser = this.navParams.get(\"newuser\");\n    this.sub_option = this.navParams.get(\"sub_option\");\n    this.platform.ready().then(() => {\n      this.store.verbosity = this.store.DEBUG;\n    });\n    this.registerProducts();\n    this.setupListeners();\n\n    this.store.ready(() => {\n      this.products = this.store.products;\n      this.ref.detectChanges();\n    });\n\n\n  }\n\n  registerProducts() {\n    this.store.register({\n      id: VVIP_KEY,\n      alias: \"full version\",\n      type: this.store.CONSUMABLE\n    });\n    this.store.register({\n      id: VIP_KEY,\n      alias: \"full version\",\n      type: this.store.CONSUMABLE\n    });\n\n    this.store.refresh();\n  }\n\n  setupListeners() {\n    this.store.when('product')\n      .approved((p: IAPProduct) => {\n        if (p.id === VVIP_KEY) {\n          //process for VVIP Plan\n        } else if (p.id === VIP_KEY) {\n          //process the VIP Plan\n        }\n        this.ref.detectChanges();\n        return p.verify();\n      });\n\n    this.store.when('product')\n      .verified((p: IAPProduct) => {\n        p.finish();\n      });\n  }\n\n  purchase(product: IAPProduct) {\n    this.store.order(product).error(error => {\n      this.auth.showToast(`error failed to purchase: ${error} `);\n    })\n      .then(p => {\n        //process the payment.\n      })\n\n  }\n\n  restore() {\n    this.store.refresh();\n  }\n  // async presentAlert(header, message) {\n  //   const alert = await this.alertCtrl.create({\n  //     header:\n  //       message,\n  //     buttons: ['Ok']\n  //   });\n  //   await alert.present();\n  // }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/subscription-ios/subscription-ios.ts"],"sourceRoot":""}